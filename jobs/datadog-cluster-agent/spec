---
name: datadog-cluster-agent
description: Datadog Cluster Agent for Cloud Foundry

templates:
  datadog-cluster-agent-ctl: bin/datadog-cluster-agent-ctl
  helpers.sh: bin/helpers.sh
  datadog.yaml.erb: config/datadog.yaml
  bbs_ca.crt.erb: config/bbs_ca.crt
  bbs_client.crt.erb: config/bbs_client.crt
  bbs_client.key.erb: config/bbs_client.key

packages:
  - datadog-cluster-agent

properties:
  cluster_agent.bbs_url:
    description: "URL of the BBS API"
    default: "https://bbs.service.cf.internal:8889"
  cluster_agent.bbs_poll_interval:
    description: "Interval for refreshing autodiscovery data from BBS API (in seconds)"
    default: 15
  cluster_agent.bbs_ca_crt:
    description: "PEM-encoded CA certificate"
  cluster_agent.bbs_client_crt:
    description: "PEM-encoded client certificate"
  cluster_agent.bbs_client_key:
    description: "PEM-encoded client key"
  cluster_agent.warmup_duration:
    description: "Number of seconds to wait for Node agents to report before starting to dispatch configurations"
    default: 30
