api_key: "" # TODO: template

log_level: <%= p("cluster_agent.log_level") %>
log_file: /var/vcap/sys/log/datadog-cluster-agent/cluster-agent.log

cluster_checks:
  enabled: true
  warmup_duration: <%= p('cluster_agent.warmup_duration') %>
  
cluster_agent:
  auth_token: abc # TODO: do we need this? how would the node agents authenticate?

config_providers:
  - name: cloudfoundry-bbs
    template_url: <%= p('cluster_agent.bbs_url') %>
    polling: true
    poll_interval: <%= p('cluster_agent.bbs_poll_interval') %>s
    ca_file: /var/vcap/jobs/datadog-cluster-agent/config/bbs_ca.crt
    cert_file: /var/vcap/jobs/datadog-cluster-agent/config/bbs_client.crt
    key_file: /var/vcap/jobs/datadog-cluster-agent/config/bbs_client.key

listeners:
  - name: cloudfoundry-bbs
